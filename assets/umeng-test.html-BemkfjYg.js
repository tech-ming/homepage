import{_ as E,r as p,g as O,h as N,c as y,o as v,a as t,d as w,w as D,b as A,t as f}from"./app-CVpPA1wL.js";const U={class:"section"},j={class:"section"},z={class:"section"},L="meipian://main.app.new/meipian?path=meipian%253A%252F%252Farticle%252Fdetail%253Fmask_id%253D3h5c9hhy%2526cb_create_at%253D1618909940%2526cb_expire_time%253D1800%2526client_type%253D2%2526type%253Dwechat%2526source%253Dh5wx_article_top&_sdk_=umeng&um_tc=f46a890aa43c404b95565ea58e9c3e2d&_valid_user_id_=4-c2afd3a446004288a60db5e802ec6c71&_linkid_=usr10s8s5q7tfvhb&source=h5wx_article_top&_bizType_=ushare",b="usr1h49s0l7ngbh5",P={__name:"umeng-test",setup(k){const m=p(""),g=p(!1),h=p(!1),c=p("");let i=null,o={},d=null;O(()=>{x(),T().then(()=>{I()})});function x(){const n=document.createElement("script");n.src="https://g.alicdn.com/code/lib/vConsole/3.3.4/vconsole.min.js",n.onload=()=>{console.log(new VConsole)},document.head.appendChild(n)}function T(){return new Promise(n=>{const e=document.createElement("script");e.src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js",document.head.appendChild(e);const l=document.createElement("script");l.src="https://share.umeng.com/demo/ulink/index.min.js?v=${SDK_VERSION}",l.onload=()=>{i=window.ULink,m.value=i.userAgent,g.value=i.isIOS(),h.value=i.isAndroid(),n()},document.head.appendChild(l)})}function I(){localStorage&&localStorage.setItem&&localStorage.getItem&&(c.value=localStorage.getItem("_umeng_oid")||(+new Date).toString(36)+Math.random().toString(36).substr(2,6),localStorage.setItem("_umeng_oid",c.value)),document.getElementById("oid").innerText="umtestid_"+c.value,o=i.getUriDecodeParams();const n=parseInt(o.timeout),e=o.lazy==="true",l=o.auto==="true",r=o.tip;let s,a;o.clp==="true"?a=!0:o.clp==="false"?a=!1:o.clp==="function"&&(a=u=>L+"&umclp="+u),r==="default"?s=r:r==="function"&&(s=u=>`<div style="position:fixed;left:0;top:0;background:rgba(255,0,255,0.5);width:100%;height:100%;z-index:19910324;">${u.solution.downloadUrl}</div>`),o.env==="pre"&&i.setGateway("https://pre-c.umsns.com"),S(),o.new==="true"?B(n,s,e,l,a):C(n,s,l,a)}function S(){if(i.isWechat){const n=document.getElementById("launch-btn");n.style.display="block",n.addEventListener("launch",e=>{console.log("success")}),n.addEventListener("error",e=>{console.log("fail",e.detail)})}else{const n=document.getElementById("btnTest2");n.style.display="block",n.onclick=()=>{location.href="weixin://dl/business/?t=NUhFcfSZuhv"}}}function _(n,e){o.popup==="true"?n():e.solution.type==="scheme"?i.isWechat||i.isQQ?n():location.href=e.solution.downloadUrl:e.solution.type}function B(n,e,l,r,s){console.log(r,"auto********"),i({id:o.linkid||b,data:o,selector:"#btnTest1",timeout:n,useOpenInBrowerTips:e||"default",lazy:l,auto:r,useClipboard:s,proxyOpenDownload:_,onready:a=>{console.log("ready",a),document.getElementById("J_solutionBox").innerText=JSON.stringify(a.solution,null,2)}})}function C(n,e,l,r){setTimeout(()=>{i.tracker.setMetaInfo({oid:"umtestid_"+c.value,nickname:"昵称",avator:"头像",trackurl:location.href}),i.tracker.enter({page_name:document.title,page:location.href},()=>{i.tracker.getNextTrackCode(s=>{document.getElementById("ntc").innerText=s,console.log("新的追踪码:",s)}),i.start({id:o.linkid||b,data:o,useClipboard:r,useOpenInBrowerTips:e||"default"}).ready(s=>{console.log("ready",s),d=s;const a={action:"click",proxyOpenDownload:_,timeout:n};l&&(console.log("auto---------",l),d.wakeup(Object.assign({},a,{action:"load"}))),document.getElementById("btnTest1").onclick=u=>{d.wakeup(a)},document.getElementById("J_solutionBox").innerText=JSON.stringify(d.solution,null,2)})})},500)}return(n,e)=>{const l=N("wx-open-launch-weapp");return v(),y("div",null,[e[6]||(e[6]=t("div",null,[t("button",{id:"btnTest1"},"唤起APP")],-1)),t("div",null,[e[1]||(e[1]=t("button",{class:"hide",id:"btnTest2"},"微信外唤起小程序",-1)),w(l,{class:"hide",id:"launch-btn",username:"gh_ddab9f37054f",path:"pages/home/home?_um_campaign=601ceb4c425ec25f10ed8a75&_um_channel=601ceb4c425ec25f10ed8a76"},{default:D(()=>e[0]||(e[0]=[t("button",null,"开放标签唤起暂不可用",-1),A(" 长按唤起小程序 "),t("img",{width:"100%",src:"https://gw.alicdn.com/imgextra/i4/O1CN01zsbA2w1N0FWrAHTj0_!!6000000001507-0-tps-430-430.jpg"},null,-1)])),_:1,__:[0]})]),e[7]||(e[7]=t("div",{class:"section"},[t("b",null,"下发方案:"),t("br"),t("pre",{id:"J_solutionBox"})],-1)),t("div",U,[e[2]||(e[2]=t("b",null,"UserAgent:",-1)),e[3]||(e[3]=t("br",null,null,-1)),t("span",null,f(m.value),1)]),t("div",j,[e[4]||(e[4]=t("b",null,"isIOS:",-1)),t("span",null,f(g.value),1)]),t("div",z,[e[5]||(e[5]=t("b",null,"isAndroid:",-1)),t("span",null,f(h.value),1)]),e[8]||(e[8]=t("div",{class:"section"},[t("b",null,"oid:"),t("br"),t("pre",{id:"oid"})],-1)),e[9]||(e[9]=t("div",{class:"section"},[t("b",null,"nextTrackCode:"),t("br"),t("pre",{id:"ntc"})],-1))])}}},Z=E(P,[["__scopeId","data-v-cb07c4bf"]]),J={__name:"umeng-test.html",setup(k){return(m,g)=>(v(),y("div",null,[w(Z)]))}},V=JSON.parse('{"path":"/views/app/familynest/umeng-test.html","title":"","lang":"zh-CN","frontmatter":{"date":"1970-01-01T00:00:00.000Z","layout":"Blank","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"1970-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-29T07:41:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"tech-ming\\",\\"url\\":\\"https://avatars.githubusercontent.com/u/108599517?s=96&v=4\\"}]}"],["meta",{"property":"og:url","content":"https://tech-ming.github.io/homepage/views/app/familynest/umeng-test.html"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-29T07:41:18.000Z"}],["meta",{"property":"article:published_time","content":"1970-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-29T07:41:18.000Z"}]]},"git":{"createdTime":1751182013000,"updatedTime":1751182878000,"contributors":[{"name":"ming","username":"ming","email":"it.work.zhang@foxmail.com","commits":2,"url":"https://github.com/ming"}]},"readingTime":{"minutes":0.05,"words":15},"filePathRelative":"views/app/familynest/umeng-test.md","excerpt":""}');export{J as comp,V as data};
